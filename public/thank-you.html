<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merci pour votre inscription – EventFlow Lite</title>
    <link rel="stylesheet" href="styles/styles.css" />
  </head>
  <body>
    <header class="ef-header ef-header-public">
      <div class="ef-container ef-header-inner">
        <span class="ef-logo">EventFlow Lite</span>
      </div>
    </header>

    <main class="ef-main">
      <section class="ef-container ef-card ef-page-narrow ef-text-center">
        <h1>Merci, votre inscription est confirmée</h1>
        <p>
          Votre inscription a bien été enregistrée. Conservez ce QR code : il
          sera scanné à l'entrée de l'événement.
        </p>

        <div class="ef-qr-placeholder">
          <canvas id="thankyou-qr"></canvas>
        </div>

        <div id="thankyou-event-summary" class="ef-form-group ef-text-left"></div>

        <div class="ef-form-actions ef-justify-center" style="margin-top: 1rem">
          <button id="thankyou-download" type="button" class="ef-btn ef-btn-primary">
            Télécharger mon billet (PDF)
          </button>
        </div>

        <p id="thankyou-message" class="ef-form-help"></p>

        <div
          id="thankyou-email-modal"
          class="ef-card"
          style="display: none; margin-top: 1.5rem; text-align: left;"
        >
          <h2>Recevoir votre billet par e-mail</h2>
          <p>
            L’adresse e-mail n’a pas été collectée lors de votre inscription.
            Indiquez-la ci-dessous pour recevoir votre billet.
          </p>
          <div class="ef-form-group">
            <label for="thankyou-email">Adresse e-mail</label>
            <input
              id="thankyou-email"
              type="email"
              placeholder="vous@exemple.fr"
            />
          </div>
          <div class="ef-form-group">
            <label for="thankyou-email-confirm">Confirmer l’adresse e-mail</label>
            <input
              id="thankyou-email-confirm"
              type="email"
              placeholder="vous@exemple.fr"
            />
          </div>
          <div class="ef-form-actions ef-justify-center">
            <button
              id="thankyou-email-confirm-button"
              type="button"
              class="ef-btn ef-btn-primary"
            >
              Envoyer le billet par e-mail
            </button>
          </div>
        </div>
      </section>
    </main>

    <footer class="ef-footer ef-footer-public">
      <div class="ef-container ef-footer-inner">
        <p class="ef-footer-meta">© Propulsé par EventFlow Lite</p>
        <div class="ef-footer-links">
          <a href="#">Mentions légales</a>
          <a href="#">Politique de confidentialité</a>
          <a href="#">Contact</a>
        </div>
      </div>
    </footer>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="js/supabaseClient.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="js/thank-you.js"></script>
  </body>
</html>
